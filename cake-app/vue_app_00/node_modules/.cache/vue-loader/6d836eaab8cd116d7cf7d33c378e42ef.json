{"remainingRequest":"D:\\TSY\\TSY\\cake-app\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\TSY\\TSY\\cake-app\\vue_app_00\\src\\components\\good\\goodinfo.vue?vue&type=style&index=0&id=397b306a&scoped=true&lang=css","dependencies":[{"path":"D:\\TSY\\TSY\\cake-app\\vue_app_00\\src\\components\\good\\goodinfo.vue","mtime":1550478602000},{"path":"D:\\TSY\\TSY\\cake-app\\vue_app_00\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"D:\\TSY\\TSY\\cake-app\\vue_app_00\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1521907988000},{"path":"D:\\TSY\\TSY\\cake-app\\vue_app_00\\node_modules\\postcss-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\TSY\\TSY\\cake-app\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"D:\\TSY\\TSY\\cake-app\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.mui-card img{\n    width:100%;\n}\n.mui-card .price{\n    color:#c62b3a;\n    font-size:14px;\n}\n.cart{\nwidth:100%;\nheight:50px;\n}\n.cart div{\nwidth:50%;\n height:50px;\n line-height:50px;\n display:inline-block;\n text-align:center;\n}\n\n .cart div:nth-child(1){\n   background:#ddd;\n   color:#000;\n}\n.cart div:nth-child(2){\n   background:#c62b3a;\n   color:#fff;\n}\n.ms{\n    font-size:20px;\n    padding-bottom:10px;\n}\n",{"version":3,"sources":["goodinfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"goodinfo.vue","sourceRoot":"src\\components\\good","sourcesContent":["<template>\r\n      <!--商品信息-->\r\n    <div class=\"mui-card\">\r\n      <div class=\"mui-card-content\">\r\n      <img :src=\"info.img_url\" alt=\"\">\r\n        <div class=\"mui-card-inner\">\r\n            <div class=\"ms\">{{info.details}}</div>\r\n           <div class=\"price\">\r\n              销售价:<span class=\"price\">{{info.price}}</span>\r\n           </div>\r\n           购买数量:\r\n           \t<div class=\"mui-numbox\" data-numbox-min='1' data-numbox-max='9'>\r\n\t\t\t\t\t<button class=\"mui-btn mui-btn-numbox-minus\" type=\"button\" @click=\"goodsSub\">-</button>\r\n\t\t\t\t\t<input id=\"test\" class=\"mui-input-numbox\" type=\"number\" value=\"1\" v-model=\"val\" />\r\n\t\t\t\t\t<button class=\"mui-btn mui-btn-numbox-plus\" type=\"button\" @click=\"goodsAdd\">+</button>\r\n\t\t\t\t</div>\r\n\r\n        </div>\r\n        <!--调用评论子组件-->\r\n        <comment-box :id=\"id\"></comment-box>\r\n      </div>\r\n      \r\n        <div class=\"cart\">\r\n            <div @click=\"buy\">加入购物车</div>\r\n            <div @click=\"buy\">立即购买</div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n//引入评论子组件\r\nimport {Toast} from \"mint-ui\";\r\nimport  comment from '../sub/comment.vue'\r\n    export default{\r\n        data(){\r\n            return{\r\n                list:[],\r\n                id:this.$route.query.id,\r\n                val:1,\r\n                info:{}\r\n            }\r\n        },\r\n         //2注册评论子组件\r\n            components:{\r\n            \"comment-box\":comment\r\n        },\r\n        methods:{\r\n            //添加购物车时更新跳转到购物车列表页面\r\n            buy(){\r\n                var uid=this.uid;\r\n                var pid=this.id;\r\n                var count=this.val;\r\n                var price=99;\r\n                var url=\"http://127.0.0.1:3000/addCart\";\r\n                this.axios.get(url,{\r\n                    params:{\r\n                    uid,pid,count,price\r\n                 }\r\n                }).then(result=>{\r\n                    console.log(result)\r\n                     if(result.data.code>0){\r\n                    Toast(result.data.msg);\r\n                    //如果商品添加成功，修改全局共享数据cartCount数量\r\n                    this.$store.commit(\"increment\")\r\n                   // this.$router.push(\"/goodscart\")\r\n                    }else{\r\n                    Toast(result.data.msg)\r\n                 }\r\n                })\r\n                \r\n            },\r\n            //为两个按钮绑定事件\r\n            goodsSub(){\r\n                if(this.val>1){\r\n                    this.val--;\r\n                }\r\n            },goodsAdd(){\r\n                if(this.val<=998){\r\n                    this.val++;\r\n                }\r\n            },\r\n            //获取页面内容\r\n            getdetails(){\r\n            var id=this.id;\r\n            var url=\"http://127.0.0.1:3000/getProduct?id=\"+id;\r\n            this.axios.get(url).then(result=>{\r\n               // console.log(result.data.data)\r\n                this.info=result.data.data;\r\n                }\r\n            )\r\n        }\r\n        },\r\n        created() {\r\n            this.getdetails();\r\n        },\r\n        \r\n    }\r\n</script>\r\n<style scoped>\r\n    \r\n    .mui-card img{\r\n        width:100%;\r\n    }\r\n    .mui-card .price{\r\n        color:#c62b3a;\r\n        font-size:14px;\r\n    }\r\n    .cart{\r\n    width:100%;\r\n    height:50px;\r\n    }\r\n    .cart div{\r\n    width:50%;\r\n     height:50px;\r\n     line-height:50px;\r\n     display:inline-block;\r\n     text-align:center;\r\n    }\r\n   \r\n     .cart div:nth-child(1){\r\n       background:#ddd;\r\n       color:#000;\r\n    }\r\n    .cart div:nth-child(2){\r\n       background:#c62b3a;\r\n       color:#fff;\r\n    }\r\n    .ms{\r\n        font-size:20px;\r\n        padding-bottom:10px;\r\n    }\r\n</style>"]}]}